# –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ Python –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```
git clone https://github.com/vadiaanx/bank_project.git
```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Poetry, –µ—Å–ª–∏ –æ–Ω –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```
curl -sSL https://install.python-poetry.org | python3 -
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
poetry install
```
4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```
poetry shell
```
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç:
```
python src/main.py
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
* flake8
* mypy
* black
* isort

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞:
```
flake8 .
mypy .
black .
isort .
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **pytest**. –¢–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `tests/`.

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
`pytest`
### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
`pytest -v`
### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ —Ç–µ—Å—Ç–∞
`pytest tests/test_masks.py`
`pytest -k "test_get_mask_card_number_valid"`
### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏
(–ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º –ø–ª–∞–≥–∏–Ω–µ `pytest-cov`):
`pytest --cov=src --cov-report=term-missing`

## –ù–æ–≤—ã–π –º–æ–¥—É–ª—å: `generators.py`

–í –º–æ–¥—É–ª–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏:

- **`filter_by_currency(transactions, currency_code)`**  
  –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–±–∏—Ä–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º –≤–∞–ª—é—Ç—ã.

- **`transaction_descriptions(transactions)`**  
  –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

- **`card_number_generator(start, stop)`**  
  –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä, —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ `XXXX XXXX XXXX XXXX` –¥–ª—è —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç `start` –¥–æ `stop` –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ.

### üîß –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –≤–∞–ª—é—Ç–µ
```python
from src.generators import filter_by_currency

transactions = [
    {
        "id": 1,
        "operationAmount": {"amount": "100", "currency": {"name": "USD", "code": "USD"}},
        "description": "–û–ø–ª–∞—Ç–∞ –ø–æ —Å—á–µ—Ç—É",
    },
    {
        "id": 2,
        "operationAmount": {"amount": "200", "currency": {"name": "RUB", "code": "RUB"}},
        "description": "–ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤",
    },
]

usd_transactions = filter_by_currency(transactions, "USD")

for tx in usd_transactions:
    print(tx["id"], tx["description"])
# –í—ã–≤–æ–¥:
# 1 –û–ø–ª–∞—Ç–∞ –ø–æ —Å—á–µ—Ç—É
```
#### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```python
from src.generators import transaction_descriptions

transactions = [
    {"description": "–ü–µ—Ä–µ–≤–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏"},
    {"description": "–ü–µ—Ä–µ–≤–æ–¥ —Å –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä—Ç—É"},
]

descriptions = transaction_descriptions(transactions)

print(next(descriptions))  # –ü–µ—Ä–µ–≤–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
print(next(descriptions))  # –ü–µ—Ä–µ–≤–æ–¥ —Å –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä—Ç—É
```

#### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç
```python
from src.generators import card_number_generator

for card in card_number_generator(1, 3):
    print(card)

# –í—ã–≤–æ–¥:
# 0000 0000 0000 0001
# 0000 0000 0000 0002
# 0000 0000 0000 0003
```

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ñ—É–Ω–∫—Ü–∏–π –º–æ–¥—É–ª—è –Ω–∞–ø–∏—Å–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (—Å–º. `test/test_generators.py`)

###  2025-09-10
#### Added
- –ù–æ–≤—ã–π –º–æ–¥—É–ª—å `decorators`:
  - –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `log` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π.
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∫ –≤ **–∫–æ–Ω—Å–æ–ª—å**, —Ç–∞–∫ –∏ –≤ **—Ñ–∞–π–ª** —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `filename`.
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≤—Ö–æ–¥–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞:
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π.
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ZeroDivisionError`).
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∫–∞–∫ —Å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º, —Ç–∞–∫ –∏ —Å –∑–∞–ø–∏—Å—å—é –≤ —Ñ–∞–π–ª.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–æ–≤ (pytest + pytest-cov, HTML-—Ä–µ–ø–æ—Ä—Ç).
